{% extends 'base.html' %}
{% block content %}
<link rel="stylesheet" media="screen" href="{{url_for('static',filename='css/dashboard.css')}}">
<link rel="stylesheet" media="screen" href="{{url_for('static',filename='css/bootstrap.min.css')}}">
<link rel="stylesheet" media="screen" href="{{url_for('static',filename='css/contas.css')}}">
<script src="{{url_for('static',filename='js/bootstrap.min.js')}}"></script>
<div class="table-container">
<br>
  <a href="#" class="addcredor" onclick="javascript:Novopost('/api/titles/',
    {label: 'Credor_Id', type: 'text', name: 'Credor_Id'},{label: 'Descricao', type: 'text', name: 'Descricao'},{label: 'Valor', type: 'text', name: 'Valor'},{label: 'Mes', type: 'text', name: 'Mes'},{label: 'Ano', type: 'text', name: 'Ano'},{label: 'Status', type: 'text', name: 'Status'},)"> <i class='bx bx-add-to-queue'></i> Adicionar Titulo</a>

  <table class="table table-hover table-striped table-bordered contas" id="contas">
    <thead class="table-dark">
      <tr class="table-dark">
        <th scope="col" class="hidden">Id</th>
        <th scope="col">Credor_Id</th>
        <th scope="col">Descricao</th>
        <th scope="col">Valor</th>
        <th scope="col">Mes</th>
        <th scope="col">Ano</th>
        <th scope="col">Status</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
        <tr class="hidden">
        <td class="hidden">0</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td> 
        </tr>
        {% for title in contas %}
        <tr>
        <td class="hidden noeditable">{{title.id}}</td>
        <td>{{ title.creditor_id }}</td>
        <td> {{title.description}}</td>
        <td>{{title.amount}}</td>
        <td>{{title.month}}</td>
        <td>{{title.year}}</td>
        <td>{{title.status}}</td>
        
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<script src="{{url_for('static', filename='js/tabela-edit.js')}}"></script>
<script>
$(document).ready(function(){
    var posturl = "/api/titles/";
    var tableId = "contas";
    var csrfToken = "{{ csrf_token() }}";  
    makeEditable(posturl, tableId, csrfToken);
});
</script>
<script src="{{url_for('static',filename='js/dashboard.js')}}"></script>
{% endblock %}

